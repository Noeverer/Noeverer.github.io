---
status: complete
priority: medium
tags: ["wikijs", "git", "documentation"]
created: '2026-01-19'
updated: '2026-01-19'
created_at: '2026-01-19T12:22:23.188035998+00:00'
---

# Wiki.js é¡µé¢åˆ°ä»“åº“ä½ç½®çš„æ˜ å°„é…ç½®

> **Status**: âœ… Complete Â· **Priority**: ğŸŸ¡ Medium Â· **Created**: 2026-01-19 Â· **Updated**: 2026-01-19

## æ¦‚è¿°

æ–‡æ¡£è¯´æ˜ Wiki.js å®¹å™¨ä¸­å¦‚ä½•é…ç½®å’Œç®¡ç†é¡µé¢åˆ°æœ¬åœ° Git ä»“åº“ `/wiki/data/repo` çš„æ˜ å°„å…³ç³»ã€‚åŒ…æ‹¬ç›®å½•ç»“æ„ã€æ–‡ä»¶å‘½åè§„èŒƒã€å†…å®¹æ ¼å¼è¦æ±‚ç­‰ã€‚

## èƒŒæ™¯

Wiki.js ä½¿ç”¨ Git ä½œä¸ºå­˜å‚¨åç«¯æ—¶ï¼Œä¼šåœ¨å®¹å™¨å†…éƒ¨ç»´æŠ¤ä¸€ä¸ªæœ¬åœ° Git ä»“åº“ï¼ˆé»˜è®¤è·¯å¾„ï¼š`/wiki/data/repo`ï¼‰ã€‚

**é‡è¦å‘ç°**: åœ¨å½“å‰éƒ¨ç½²ä¸­ï¼ŒWiki.js å…‹éš†çš„æ˜¯æ•´ä¸ª **Hexo åšå®¢é¡¹ç›®** (`Noeverer/Noeverer.github.io`)ï¼Œè€Œéä¸€ä¸ªç‹¬ç«‹çš„ Wiki å†…å®¹ä»“åº“ã€‚è¿™æ„å‘³ç€ï¼š

- Wiki.js å’Œ Hexo åšå®¢å…±äº«åŒä¸€ä¸ª GitHub ä»“åº“
- Wiki.js å¯ä»¥ç¼–è¾‘å’ŒæŸ¥çœ‹ä»“åº“ä¸­çš„æ‰€æœ‰ Markdown æ–‡ä»¶
- Wiki.js æ•°æ®åº“ä¸­çš„é¡µé¢å’Œä»“åº“ä¸­çš„æ–‡ä»¶æ˜¯**ä¸¤å¥—ç‹¬ç«‹çš„å†…å®¹**
- Wiki.js é€šè¿‡ Git å­˜å‚¨æ¥ç®¡ç†è‡ªå·±çš„é¡µé¢å†…å®¹

äº†è§£è¿™ä¸ªä»“åº“çš„ç»“æ„å’Œæ˜ å°„è§„åˆ™å¯¹äºï¼š
- æ‰‹åŠ¨ç®¡ç† Wiki å†…å®¹
- è°ƒè¯•åŒæ­¥é—®é¢˜
- è‡ªå®šä¹‰éƒ¨ç½²æµç¨‹
- ç†è§£æ•°æ®æµå‘

è‡³å…³é‡è¦ã€‚

## ä»“åº“ç»“æ„

### å®¹å™¨å†…å®é™…è·¯å¾„

å½“å‰ Wiki.js å®¹å™¨ä¸­çš„ `/wiki/data/repo` ç›®å½•æ˜¯æ•´ä¸ª Hexo åšå®¢é¡¹ç›®çš„å…‹éš†ï¼š

```
/wiki/data/repo/
â”œâ”€â”€ .git/                          # Git ä»“åº“å…ƒæ•°æ®
â”œâ”€â”€ .github/workflows/              # GitHub Actions é…ç½®
â”œâ”€â”€ source/_posts/                  # Hexo åšå®¢æ–‡ç« 
â”‚   â”œâ”€â”€ 2015/
â”‚   â”œâ”€â”€ 2016/
â”‚   â”œâ”€â”€ 2017/2017-03-01-2017spring.md
â”‚   â”œâ”€â”€ 2019/
â”‚   â”œâ”€â”€ 2020/
â”‚   â”œâ”€â”€ 2025/
â”‚   â”œâ”€â”€ 2026/
â”‚   â””â”€â”€ hello.md
â”œâ”€â”€ docs/                          # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ specs/                         # é¡¹ç›®è§„æ ¼æ–‡æ¡£
â”‚   â”œâ”€â”€ 001-deploy to github pages/
â”‚   â”œâ”€â”€ 002-verify-github-pages-deployment/
â”‚   â”œâ”€â”€ 003-published-field-validation/
â”‚   â”œâ”€â”€ 004-fix-menu-404/
â”‚   â””â”€â”€ 005-wikijs-github-pages/
â”œâ”€â”€ tools/                         # å·¥å…·è„šæœ¬
â”œâ”€â”€ _config.yml                    # Hexo ä¸»é…ç½®
â”œâ”€â”€ _config.butterfly.yml           # Butterfly ä¸»é¢˜é…ç½®
â”œâ”€â”€ package.json                   # npm ä¾èµ–
â””â”€â”€ README.md                      # é¡¹ç›®è¯´æ˜
```

### Wiki.js é¡µé¢ä¸ä»“åº“æ–‡ä»¶çš„å…³ç³»

**é‡è¦**: Wiki.js ä½¿ç”¨ Git å­˜å‚¨æ—¶ï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼š

#### æƒ…å†µ 1: Wiki.js ç®¡ç†è‡ªå·±çš„é¡µé¢ï¼ˆæ¨èï¼‰
- Wiki.js æ•°æ®åº“ä¸­çš„é¡µé¢ä¼šåŒæ­¥åˆ° Git ä»“åº“
- æ–‡ä»¶ä½ç½®ç”± Wiki.js çš„æ–‡ä»¶ç³»ç»Ÿå†³å®š
- é€šå¸¸åœ¨ä»“åº“æ ¹ç›®å½•æˆ–ç‰¹å®šå­ç›®å½•ä¸­

#### æƒ…å†µ 2: Wiki.js ä½œä¸ºç°æœ‰ä»“åº“çš„æŸ¥çœ‹å™¨ï¼ˆå½“å‰éƒ¨ç½²ï¼‰
- Wiki.js å…‹éš†æ•´ä¸ªä»“åº“
- å¯ä»¥æŸ¥çœ‹å’Œç¼–è¾‘ä»“åº“ä¸­çš„ä»»ä½• Markdown æ–‡ä»¶
- Wiki.js æ•°æ®åº“ä¸­çš„é¡µé¢å’Œä»“åº“æ–‡ä»¶**ä¸ä¸€å®šä¸€ä¸€å¯¹åº”**

**å½“å‰çŠ¶æ€**: æ ¹æ®æ£€æŸ¥ï¼ŒWiki.js æ•°æ®åº“ä¸­é¡µé¢æ•°ä¸º 0ï¼Œè¯´æ˜ï¼š
- Wiki.js å°šæœªåˆ›å»ºä»»ä½•é¡µé¢
- å½“å‰ä»…ä½œä¸ºä»“åº“å…‹éš†å­˜åœ¨
- éœ€è¦åœ¨ Wiki.js ä¸­åˆ›å»ºé¡µé¢æ‰ä¼šå¼€å§‹åŒæ­¥åˆ° Git

### æ˜ å°„å…³ç³»

| Wiki.js é¡µé¢è·¯å¾„ | ä»“åº“æ–‡ä»¶è·¯å¾„ | è¯´æ˜ |
|-----------------|------------|------|
| `/Home` | `Home.md` | æ ¹ç›®å½•é¡µé¢ï¼ˆWiki.js åˆ›å»ºï¼‰ |
| `/Documentation/Setup` | `Documentation/Setup.md` | å­ç›®å½•é¡µé¢ï¼ˆWiki.js åˆ›å»ºï¼‰ |
| `/2017/2017-03-01-2017spring` | `source/_posts/2017/2017-03-01-2017spring.md` | Hexo åšå®¢æ–‡ç« ï¼ˆåªè¯»ï¼‰ |

**æ³¨æ„**: ç›®å½•åå¸¦ç©ºæ ¼çš„æƒ…å†µï¼ˆå¦‚ `001-deploy to github pages`ï¼‰éœ€è¦ä½¿ç”¨å¼•å·åŒ…è£¹è·¯å¾„ã€‚

## æ–‡ä»¶å‘½åè§„åˆ™

### åŸºæœ¬è§„åˆ™

1. **æ–‡ä»¶å**:
   - ä½¿ç”¨é¡µé¢æ ‡é¢˜ä½œä¸ºæ–‡ä»¶å
   - ç‰¹æ®Šå­—ç¬¦ä¼šè¢«æ›¿æ¢ï¼š
     - ç©ºæ ¼ â†’ ä¸‹åˆ’çº¿ `_` æˆ–è¿å­—ç¬¦ `-`
     - `/` â†’ ç›®å½•åˆ†éš”ç¬¦
     - å…¶ä»–ç‰¹æ®Šå­—ç¬¦ â†’ ç§»é™¤æˆ–æ›¿æ¢

2. **æ‰©å±•å**:
   - Markdown æ–‡ä»¶: `.md`
   - HTML æ–‡ä»¶: `.html` (æ ¹æ®é…ç½®)

3. **è·¯å¾„è½¬æ¢ç¤ºä¾‹**:

   | Wiki.js é¡µé¢è·¯å¾„ | é»˜è®¤æ–‡ä»¶å | å¸¦å‘½åç©ºé—´çš„æ–‡ä»¶å |
   |-----------------|-----------|------------------|
   `/æˆ‘çš„é¡µé¢` | `æˆ‘çš„é¡µé¢.md` | `å‘½åç©ºé—´_æˆ‘çš„é¡µé¢.md` |
   `/API Reference` | `API_Reference.md` | `å‘½åç©ºé—´_API_Reference.md` |

### å‘½åç©ºé—´è®¾ç½®

åœ¨ Wiki.js é…ç½®ä¸­ï¼Œ`alwaysNamespace: true` æ—¶ï¼š
- æ‰€æœ‰æ–‡ä»¶åéƒ½ä¼šæ·»åŠ å‰ç¼€
- é¿å…ä¸åŒç›®å½•ä¸‹çš„åŒåæ–‡ä»¶å†²çª
- æ ¼å¼: `[çˆ¶çº§è·¯å¾„]_[æ–‡ä»¶å].md`

ç¤ºä¾‹ï¼š
```
/Wiki.js è®¾ç½®
  /API æ–‡æ¡£
    /è®¤è¯.md
  /ç”¨æˆ·æŒ‡å—
    /è®¤è¯.md        # å‘½åç©ºé—´å‰ç¼€é˜²æ­¢å†²çª
```

æ–‡ä»¶å‘½åï¼š
- `/API æ–‡æ¡£/è®¤è¯.md` â†’ `APIæ–‡æ¡£_è®¤è¯.md`
- `/ç”¨æˆ·æŒ‡å—/è®¤è¯.md` â†’ `ç”¨æˆ·æŒ‡å—_è®¤è¯.md`

## Front Matter (å…ƒæ•°æ®)

### Hexo åšå®¢æ–‡ç« æ ¼å¼

Hexo åšå®¢æ–‡ç« ä½¿ç”¨ YAML æ ¼å¼çš„ front matterï¼š

```markdown
---
title: 2017spring
date: 2017-03-01 12:00:00
tags: ["chocolate", "life", "æ„Ÿæ‚Ÿ"]
categories: chocolate
description: 2017ä¸Šè‡ªç”±ä¸å¦¥å   1å‡†å¤‡å¤è¯•é¡ºåˆ©è¿›å…¥ä¸Šå¤§   2ä¸æµªè´¹æ—¶é—´åšäº›æœ‰æ„ä¹‰çš„äº‹æƒ…   3è®©äººæˆç†Ÿèµ·æ¥   4æˆç†Ÿä¾¿æ˜¯å…‹åˆ¶   5æˆç†Ÿæ˜¯å†…å¿ƒçš„è´£ä»»   6ç»æµä¸Šçš„ç‹¬ç«‹   7æˆç†Ÿæ˜¯å¯¹ç‰©ç»†è‡´å¯¹äººå®½å®¹   8æˆç†Ÿæ˜¯æ‹’ç»æ‹’ç»è¯±æƒ‘æ‹’ç»æƒ°æ€§æ‹’ç»å°†å°±   9æˆç†Ÿæ˜¯æ‰¿æ‹…èµ·è‡ªå·±çš„é€‰æ‹©   10æ˜¯æ‹–å»¶å¹¶ä¸æ˜¯è°¨æ…   2017.01.03   ä¸è¦å‘æ‡’æƒ°å¦¥å
published: true
---

(2017ä¸Š)è‡ªç”±ï¼Œä¸å¦¥åï¼š
...
```

### Wiki.js é¡µé¢æ ¼å¼

Wiki.js ç®¡ç†çš„é¡µé¢ä½¿ç”¨æ‰©å±•çš„ front matterï¼š

```markdown
---
title: é¡µé¢æ ‡é¢˜
description: é¡µé¢æè¿°
tags: ["æ ‡ç­¾1", "æ ‡ç­¾2"]
createdAt: 2026-01-19T12:00:00.000Z
updatedAt: 2026-01-19T12:00:00.000Z
published: true
---

# å¿«é€Ÿå…¥é—¨æŒ‡å—

æ¬¢è¿ä½¿ç”¨ Wiki.jsï¼è¿™æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ wiki ç³»ç»Ÿ...
```

### å­—æ®µå¯¹æ¯”

| å­—æ®µ | Hexo æ ¼å¼ | Wiki.js æ ¼å¼ | è¯´æ˜ |
|------|-----------|-------------|------|
| `title` | âœ… ç®€å•å­—ç¬¦ä¸² | âœ… ç®€å•å­—ç¬¦ä¸² | é¡µé¢æ ‡é¢˜ |
| `description` | âœ… é•¿æ–‡æœ¬ | âœ… çŸ­æè¿° | é¡µé¢æè¿° |
| `tags` | âœ… æ•°ç»„ | âœ… æ•°ç»„ | æ ‡ç­¾åˆ—è¡¨ |
| `categories` | âœ… å•ä¸ª/æ•°ç»„ | âŒ | Hexo åˆ†ç±» |
| `date` | âœ… DateTime | âŒ | Hexo å‘å¸ƒæ—¥æœŸ |
| `createdAt` | âŒ | âœ… ISO8601 | Wiki.js åˆ›å»ºæ—¶é—´ |
| `updatedAt` | âŒ | âœ… ISO8601 | Wiki.js æ›´æ–°æ—¶é—´ |
| `published` | âœ… boolean | âœ… boolean | æ˜¯å¦å‘å¸ƒ |

**é‡è¦**: Hexo å’Œ Wiki.js ä½¿ç”¨ä¸åŒçš„ front matter å­—æ®µï¼Œéœ€è¦åœ¨ç¼–è¾‘æ—¶æ³¨æ„å…¼å®¹æ€§ã€‚

## Git é…ç½®

### å½“å‰é…ç½®

```json
{
  "authType": "basic",
  "repoUrl": "https://github.com/Noeverer/Noeverer.github.io.git",
  "branch": "master",
  "verifySSL": false,
  "basicUsername": "Noeverer",
  "defaultEmail": "robotliu0327@gmail.com",
  "defaultName": "ante",
  "localRepoPath": "./data/repo",
  "alwaysNamespace": true,
  "syncInterval": "PT5M"
}
```

### é…ç½®é¡¹è¯´æ˜

| é…ç½®é¡¹ | å€¼ | è¯´æ˜ |
|--------|-----|------|
| `authType` | `basic` | è®¤è¯ç±»å‹ï¼šbasic / ssh |
| `repoUrl` | GitHub URL | è¿œç¨‹ä»“åº“åœ°å€ |
| `branch` | `master` | Git åˆ†æ”¯åç§° |
| `localRepoPath` | `./data/repo` | æœ¬åœ°ä»“åº“è·¯å¾„ï¼ˆç›¸å¯¹äº `/wiki`ï¼‰ |
| `alwaysNamespace` | `true` | æ˜¯å¦ä½¿ç”¨å‘½åç©ºé—´å‰ç¼€ |
| `syncInterval` | `PT5M` | åŒæ­¥é—´éš”ï¼ˆ5 åˆ†é’Ÿï¼‰ |

## å½“å‰é…ç½®çŠ¶æ€

### Git é…ç½®

```json
{
  "authType": "basic",
  "repoUrl": "https://github.com/Noeverer/Noeverer.github.io.git",
  "branch": "master",
  "verifySSL": false,
  "basicUsername": "Noeverer",
  "basicPassword": "REDACTED_TOKEN",
  "defaultEmail": "robotliu0327@gmail.com",
  "defaultName": "ante",
  "localRepoPath": "./data/repo",
  "alwaysNamespace": true,
  "syncInterval": "PT5M"
}
```

### ä»“åº“å®é™…çŠ¶æ€

```bash
# ä»“åº“å†…å®¹ï¼ˆæˆªå–ï¼‰
- æ€»æ–‡ä»¶æ•°: 16 ç¯‡åšå®¢æ–‡ç«  + 17 ä¸ªæ–‡æ¡£ + 7 ä¸ª specs
- åˆ†æ”¯: master
- è¿œç¨‹: https://github.com/Noeverer/Noeverer.github.io.git
- Wiki.js é¡µé¢æ•°: 0ï¼ˆå°šæœªåˆ›å»ºï¼‰
- æœ€æ–°æäº¤: 52c9862 update
```

### åŒæ­¥çŠ¶æ€

âœ… **æ‹‰å–æˆåŠŸ**: Git è¿œç¨‹ä»“åº“åŒæ­¥æ­£å¸¸
âš ï¸ **æ¨é€å¾…é…ç½®**: PAT å·²é…ç½®ä½†å°šæœªéªŒè¯
â³ **é¡µé¢åˆ›å»º**: Wiki.js æ•°æ®åº“ä¸­æ— é¡µé¢

## åŒæ­¥æµç¨‹

### è‡ªåŠ¨åŒæ­¥æµç¨‹ï¼ˆå½“å‰éƒ¨ç½²ï¼‰

```
Wiki.js ç¼–è¾‘é¡µé¢ï¼ˆæš‚æ— ï¼‰
    â†“
æ•°æ®åº“æ›´æ–°ï¼ˆå½“å‰ 0 é¡µé¢ï¼‰
    â†“
æœ¬åœ° Git ä»“åº“æ›´æ–° (/wiki/data/repo)
    â†“
Git æäº¤ (Commit)
    â†“
Git æ¨é€åˆ°è¿œç¨‹ (Push)
    â†“
GitHub Actions è§¦å‘
    â†“
Hexo æ„å»º â†’ GitHub Pages éƒ¨ç½²
```

**æ³¨æ„**: å½“å‰éƒ¨ç½²çš„ç‰¹æ®Šæ€§åœ¨äºï¼š
- Wiki.js çš„é¡µé¢ä¼šæ¨é€åˆ° `master` åˆ†æ”¯
- GitHub Actions ä¼šè§¦å‘ Hexo æ„å»º
- æ„å»ºäº§ç‰©éƒ¨ç½²åˆ° `gh-pages` åˆ†æ”¯
- æœ€ç»ˆè®¿é—®åœ°å€: https://noeverer.github.io

### åŒæ­¥é—´éš”

- **é»˜è®¤é—´éš”**: 5 åˆ†é’Ÿ (PT5M)
- **é…ç½®ä½ç½®**: æ•°æ®åº“ `storage` è¡¨ â†’ `git` è¡Œ â†’ `syncInterval` å­—æ®µ
- **æ ¼å¼**: ISO-8601 æŒç»­æ—¶é—´æ ¼å¼
  - `PT5M` = 5 åˆ†é’Ÿ
  - `PT10M` = 10 åˆ†é’Ÿ
  - `PT1H` = 1 å°æ—¶

### æ‰‹åŠ¨è§¦å‘åŒæ­¥

#### æ–¹å¼ 1: Wiki.js ç®¡ç†ç•Œé¢

1. è®¿é—® `http://localhost:3000`
2. ç™»å½•ç®¡ç†åå°
3. å¯¼èˆªåˆ° `å­˜å‚¨` â†’ `Git`
4. ç‚¹å‡» `ç«‹å³åŒæ­¥` æŒ‰é’®

#### æ–¹å¼ 2: é€šè¿‡ API

```bash
curl -X POST http://localhost:3000/graphql \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"query": "{ storage { sync } }"}'
```

#### æ–¹å¼ 3: å®¹å™¨å†…æ‰‹åŠ¨æ“ä½œ

```bash
# è¿›å…¥å®¹å™¨
docker exec -it b91ad99f4c9a01009a25b2e31981063ad8d70736870b746fca2d2827300fb24d sh

# è¿›å…¥ä»“åº“ç›®å½•
cd /wiki/data/repo

# æ‹‰å–æœ€æ–°æ›´æ”¹
git pull origin master

# æŸ¥çœ‹çŠ¶æ€
git status
```

## å®é™…ä»“åº“ç»“æ„ç¤ºä¾‹

### å½“å‰ç›®å½•ç»„ç»‡

```
/wiki/data/repo/
â”œâ”€â”€ .github/workflows/
â”‚   â””â”€â”€ deploy.yml              # GitHub Actions éƒ¨ç½²é…ç½®
â”œâ”€â”€ source/_posts/              # åšå®¢æ–‡ç« ç›®å½•
â”‚   â”œâ”€â”€ 2015/                   # 2015 å¹´æ–‡ç« 
â”‚   â”œâ”€â”€ 2016/                   # 2016 å¹´æ–‡ç« 
â”‚   â”œâ”€â”€ 2017/
â”‚   â”‚   â””â”€â”€ 2017-03-01-2017spring.md  # Chocolate ç³»åˆ—æ–‡ç« 
â”‚   â”œâ”€â”€ 2019/
â”‚   â”‚   â”œâ”€â”€ 2019-08-01-ç®—æ³•.md       # æ€ç»´å¯¼å›¾
â”‚   â”‚   â”œâ”€â”€ 2019-08-01-æ•°æ®ç»“æ„.md   # æ€ç»´å¯¼å›¾
â”‚   â”‚   â””â”€â”€ 2019-08-01-Pythonæ•°æ®æ“ä½œçš„æ€»ç»“.md
â”‚   â”œâ”€â”€ 2020/
â”‚   â””â”€â”€ 2025/
â”‚       â””â”€â”€ 01-openmanus/
â”‚           â”œâ”€â”€ 01-comm.md
â”‚           â””â”€â”€ åŠ¨æ€æ³¨å†Œ.md
â”‚   â””â”€â”€ 2026/
â”‚       â””â”€â”€ wikijs/
â”‚           â””â”€â”€ (Wiki.js ç›¸å…³æ–‡ç« )
â”œâ”€â”€ docs/                      # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ BLOG_MIGRATION_README.md
â”‚   â”œâ”€â”€ BRANCH_WORKFLOW.md
â”‚   â”œâ”€â”€ BUTTERFLY_CONFIG.md
â”‚   â””â”€â”€ ... (17 ä¸ªæ–‡æ¡£)
â”œâ”€â”€ specs/                     # é¡¹ç›®è§„æ ¼æ–‡æ¡£
â”‚   â”œâ”€â”€ 001-deploy to github pages/
â”‚   â”œâ”€â”€ 002-verify-github-pages-deployment/
â”‚   â”œâ”€â”€ 003-published-field-validation/
â”‚   â”œâ”€â”€ 004-fix-menu-404/
â”‚   â”œâ”€â”€ 005-wikijs-github-pages/
â”‚   â”œâ”€â”€ 006-fix-wikijs-git-error/
â”‚   â””â”€â”€ 007-007-wikijs-repo-mapping/
â”œâ”€â”€ tools/                     # å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ validate-published.py
â”‚   â””â”€â”€ ...
â”œâ”€â”€ AGENTS.md                  # AI Agent æŒ‡ä»¤
â”œâ”€â”€ README.md                  # é¡¹ç›®ä¸» README
â”œâ”€â”€ _config.yml                # Hexo é…ç½®
â”œâ”€â”€ _config.butterfly.yml      # ä¸»é¢˜é…ç½®
â”œâ”€â”€ package.json               # npm é…ç½®
â””â”€â”€ package-lock.json          # ä¾èµ–é”å®šæ–‡ä»¶
```

### ç›®å½•å‘½åç‰¹ç‚¹

1. **å¸¦ç©ºæ ¼çš„ç›®å½•å**: `001-deploy to github pages`
   - éœ€è¦ä½¿ç”¨å¼•å·è®¿é—®: `"001-deploy to github pages"`
   - å‘½ä»¤è¡Œæ“ä½œæ—¶éœ€ç‰¹åˆ«æ³¨æ„

2. **ä¸­æ–‡ç›®å½•å**: `2015`, `2016` ç­‰ä¸­æ–‡å­ç›®å½•
   - UTF-8 ç¼–ç æ”¯æŒ

3. **æ—¥æœŸæ ¼å¼**: `2017-03-01-2017spring.md`
   - Hexo æ ‡å‡†æ ¼å¼: `YYYY-MM-DD-title.md`

## èµ„æºæ–‡ä»¶å¤„ç†

### å›¾ç‰‡å’Œé™„ä»¶

Wiki.js èµ„æºæ–‡ä»¶é»˜è®¤å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œä¸åœ¨ Git ä»“åº“ä¸­ã€‚å¦‚éœ€å°†èµ„æºæ–‡ä»¶ä¹Ÿçº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼š

#### é€‰é¡¹ 1: ä½¿ç”¨ Git å­˜å‚¨ä½œä¸ºèµ„æºåç«¯

åœ¨ Wiki.js é…ç½®ä¸­ï¼Œå°†èµ„æºå­˜å‚¨ä¹Ÿè®¾ç½®ä¸º Gitï¼š

```bash
# è®¿é—®ç®¡ç†åå° â†’ å­˜å‚¨ â†’ èµ„æº
# é…ç½® Git ä½œä¸ºèµ„æºå­˜å‚¨åç«¯
```

#### é€‰é¡¹ 2: æ‰‹åŠ¨ç®¡ç†èµ„æºæ–‡ä»¶

1. åœ¨ä»“åº“ä¸­åˆ›å»º `assets/` ç›®å½•
2. å°†å›¾ç‰‡ã€PDF ç­‰æ–‡ä»¶æ”¾å…¥è¯¥ç›®å½•
3. åœ¨ Markdown ä¸­å¼•ç”¨ï¼š
   ```markdown
   ![å›¾ç‰‡è¯´æ˜](/assets/image.png)
   ```

## é…ç½®ä¿®æ”¹æŒ‡å—

### ä¿®æ”¹æœ¬åœ°ä»“åº“è·¯å¾„

å¦‚æœéœ€è¦æ›´æ”¹ `/wiki/data/repo` åˆ°å…¶ä»–è·¯å¾„ï¼š

```bash
# æ–¹æ³• 1: é€šè¿‡æ•°æ®åº“
docker exec 90f47bf650a6 psql -U wikijs -d wikijs -c "UPDATE storage SET config = jsonb_set(config, '{localRepoPath}', '\"./data/custom-repo\"') WHERE key = 'git';"

# æ–¹æ³• 2: é€šè¿‡ API (éœ€è¦è®¤è¯ token)
curl -X POST http://localhost:3000/graphql \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "query": "mutation { storage { updateTarget(key: \"git\", config: { localRepoPath: \"./data/custom-repo\" } }) { success } }"
  }'
```

### ä¿®æ”¹åŒæ­¥é—´éš”

```bash
# å°†åŒæ­¥é—´éš”æ”¹ä¸º 10 åˆ†é’Ÿ
docker exec 90f47bf650a6 psql -U wikijs -d wikijs -c "UPDATE storage SET syncInterval = 'PT10M' WHERE key = 'git';"
```

### ç¦ç”¨å‘½åç©ºé—´

```bash
# å…³é—­ alwaysNamespace
docker exec 90f47bf650a6 psql -U wikijs -d wikijs -c "UPDATE storage SET config = jsonb_set(config, '{alwaysNamespace}', 'false') WHERE key = 'git';"
```

## æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: ä»“åº“ä¸ºç©º

**ç—‡çŠ¶**: `/wiki/data/repo` ç›®å½•å­˜åœ¨ä½†æ²¡æœ‰æ–‡ä»¶

**è§£å†³**:
```bash
# æ£€æŸ¥ Git çŠ¶æ€
docker exec b91ad99f4c9a01009a25b2e31981063ad8d70736870b746fca2d2827300fb24d sh -c "cd /wiki/data/repo && git log --oneline -5"

# æ£€æŸ¥è¿œç¨‹åˆ†æ”¯
docker exec b91ad99f4c9a01009a25b2e31981063ad8d70736870b746fca2d2827300fb24d sh -c "cd /wiki/data/repo && git branch -a"

# æ‰‹åŠ¨è§¦å‘åŒæ­¥
# è®¿é—® http://localhost:3000 â†’ å­˜å‚¨ â†’ Git â†’ ç«‹å³åŒæ­¥
```

### é—®é¢˜ 2: æ–‡ä»¶æœªåŒæ­¥

**ç—‡çŠ¶**: Wiki.js ä¸­ç¼–è¾‘çš„é¡µé¢æœªå‡ºç°åœ¨ä»“åº“ä¸­

**åŸå› **: å¯èƒ½æ˜¯åŒæ­¥é—´éš”æœªåˆ°æˆ–åŒæ­¥å¤±è´¥

**è§£å†³**:
```bash
# æŸ¥çœ‹æ—¥å¿—
docker logs --tail 50 b91ad99f4c9a01009a25b2e31981063ad8d70736870b746fca2d2827300fb24d | grep -i storage

# æ£€æŸ¥å­˜å‚¨çŠ¶æ€
docker exec 90f47bf650a6 psql -U wikijs -d wikijs -c "SELECT state FROM storage WHERE key = 'git';"
```

### é—®é¢˜ 3: æ–‡ä»¶åä¹±ç 

**ç—‡çŠ¶**: ä»“åº“ä¸­æ–‡ä»¶åå‡ºç°ç‰¹æ®Šå­—ç¬¦

**åŸå› **: é¡µé¢æ ‡é¢˜åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼Œè½¬æ¢è§„åˆ™ä¸åŒ¹é…

**è§£å†³**:
1. åœ¨ Wiki.js ä¸­é‡å‘½åé¡µé¢ï¼Œä½¿ç”¨ç®€å•çš„æ ‡é¢˜
2. æˆ–å¯ç”¨ `alwaysNamespace` é¿å…å†²çª

## æœ€ä½³å®è·µ

1. **é¡µé¢å‘½å**:
   - ä½¿ç”¨ç®€å•ã€æ˜ç¡®çš„æ ‡é¢˜
   - é¿å…ç‰¹æ®Šå­—ç¬¦
   - ä¿æŒä¸€è‡´çš„å‘½åé£æ ¼

2. **ç›®å½•ç»„ç»‡**:
   - æŒ‰ä¸»é¢˜åˆ†ç±»
   - ä½¿ç”¨æ•°å­—å‰ç¼€æ’åº
   - æ§åˆ¶å±‚çº§æ·±åº¦

3. **åŒæ­¥ç®¡ç†**:
   - åˆç†è®¾ç½®åŒæ­¥é—´éš”
   - é‡è¦æ›´æ”¹åæ‰‹åŠ¨è§¦å‘åŒæ­¥
   - å®šæœŸæ£€æŸ¥åŒæ­¥çŠ¶æ€

4. **ç‰ˆæœ¬æ§åˆ¶**:
   - ä½¿ç”¨æœ‰æ„ä¹‰çš„æäº¤ä¿¡æ¯
   - å®šæœŸæŸ¥çœ‹ Git å†å²
   - åˆ©ç”¨åˆ†æ”¯ç®¡ç†é‡å¤§æ›´æ”¹

5. **å¤‡ä»½ç­–ç•¥**:
   - å®šæœŸå¯¼å‡ºæ•°æ®åº“
   - å¤‡ä»½ Git ä»“åº“
   - æµ‹è¯•æ¢å¤æµç¨‹

## å‚è€ƒèµ„æ–™

- [Wiki.js Git å­˜å‚¨](https://docs.requarks.io/store/git)
- [YAML Front Matter](https://jekyllrb.com/docs/front-matter/)
- [ISO-8601 Duration](https://en.wikipedia.org/wiki/ISO_8601#Durations)

## ç›¸å…³é“¾æ¥

- ç›¸å…³ Spec: [006-fix-wikijs-git-error](../006-006-fix-wikijs-git-error/)
- ç›¸å…³ Spec: [005-wikijs-github-pages](../005-wikijs-github-pages/)
- ä¿®å¤æ–‡æ¡£: [WIKIJS_FIX_SUMMARY.md](../../WIKIJS_FIX_SUMMARY.md)
- Hexo åšå®¢: [README.md](../../README.md)

## å®Œæˆæ—¥æœŸ

**å®Œæˆæ—¶é—´**: 2026-01-19

**éªŒè¯ç»“æœ**:
- âœ… ä»“åº“ç»“æ„å·²æ ¸å®
- âœ… æ–‡ä»¶å‘½åè§„åˆ™å·²è®°å½•
- âœ… Front Matter æ ¼å¼å·²å¯¹æ¯”
- âœ… åŒæ­¥æµç¨‹å·²ç¡®è®¤
- âœ… å½“å‰é…ç½®çŠ¶æ€å·²è®°å½•
